(function(t){function e(e){for(var a,n,o=e[0],l=e[1],u=e[2],p=0,g=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&g.push(s[n][0]),s[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(g.length)g.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==s[l]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},s={app:0},i=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;i.push([1,"chunk-vendors"]),r()})({0:function(t,e){},"025b":function(t,e,r){t.exports=r.p+"fonts/Lucida_Grande_Regular.cab01315.ttf"},"078d":function(t,e,r){"use strict";var a=r("102c"),s=r.n(a);s.a},1:function(t,e,r){t.exports=r("56d7")},"102c":function(t,e,r){},1771:function(t,e,r){var a={"./Lucida_Grande_Regular.ttf":"025b","./angle-double-left-solid.svg":"cf78","./angle-double-right-solid.svg":"3407","./arrow-circle-down-solid.svg":"41b2","./fr.svg":"6ed2","./header-bannier.jpg":"748e","./search-solid.svg":"1945","./uk.svg":"8da5","./us.svg":"700e"};function s(t){var e=i(t);return r(e)}function i(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=i,t.exports=s,s.id="1771"},1945:function(t,e,r){t.exports=r.p+"img/search-solid.225ea769.svg"},2:function(t,e){},"21bb":function(t,e,r){"use strict";var a=r("2dad"),s=r.n(a);s.a},"2aa4":function(t,e,r){},"2dad":function(t,e,r){},3:function(t,e){},3407:function(t,e,r){t.exports=r.p+"img/angle-double-right-solid.14dc4eba.svg"},"41b2":function(t,e,r){t.exports=r.p+"img/arrow-circle-down-solid.32cd409b.svg"},"56d7":function(t,e,r){"use strict";r.r(e);var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],n=(r("5c0b"),r("2877")),o={},l=Object(n["a"])(o,s,i,!1,null,null,null),u=l.exports,c=r("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("img",{staticClass:"header",attrs:{alt:"Vue logo",src:r("748e")}}),a("section",{attrs:{id:"pagination"}},[t.rawData.length>0?a("div",{staticClass:"limite"},[a("p",[t._v("Afficher")]),a("v-select",{attrs:{options:t.elementsPerPageOptions,clearable:!1,value:t.elementsPerPage,searchable:!1},on:{input:t.elementsPerPageChange}}),a("p",[t._v("personnes par page")])],1):t._e(),a("div",{staticClass:"btn-group"},[a("input-xls",{on:{change:t.dataChange}}),a("button",{on:{click:t.clearFilters}},[t._v("Vider les filtres")])],1),t.rawData.length>0?a("pagination",{attrs:{page:t.page,pages:t.numberOfPages},on:{change:t.paginationChange}}):t._e()],1),t.rawData.length>0?a("table",[a("thead",[a("tr",[a("th",{class:[{sorted:t.isSorted("firstName")}],on:{click:function(e){return t.sortBy("firstName")}}},[t._v("Prénom")]),a("th",{class:[{sorted:t.isSorted("lastName")}],on:{click:function(e){return t.sortBy("lastName")}}},[t._v("Nom")]),a("th",{class:[{sorted:t.isSorted("gender")}],on:{click:function(e){return t.sortBy("gender")}}},[t._v("Genre")]),a("th",{class:[{sorted:t.isSorted("country")}],on:{click:function(e){return t.sortBy("country")}}},[t._v("Pays")]),a("th",{class:[{sorted:t.isSorted("age")}],on:{click:function(e){return t.sortBy("age")}}},[t._v("Âge")]),a("th",{class:[{sorted:t.isSorted("date")}],on:{click:function(e){return t.sortBy("date")}}},[t._v("Date")]),a("th",{class:[{sorted:t.isSorted("id")}],on:{click:function(e){return t.sortBy("id")}}},[t._v("Id")])]),a("tr",{staticClass:"trRowInput"},[a("th",[a("img",{attrs:{src:r("1945")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterFirstName,expression:"filterFirstName"}],attrs:{type:"text"},domProps:{value:t.filterFirstName},on:{input:function(e){e.target.composing||(t.filterFirstName=e.target.value)}}})]),a("th",[a("img",{attrs:{src:r("1945")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterLastName,expression:"filterLastName"}],attrs:{type:"text"},domProps:{value:t.filterLastName},on:{input:function(e){e.target.composing||(t.filterLastName=e.target.value)}}})]),a("th",[a("v-select",{attrs:{options:t.genderOptions,searchable:!1},on:{input:t.filterGenderChange}})],1),a("th",[a("v-select",{attrs:{options:t.countryOptions},on:{input:t.filterCountryChange}})],1),a("th",[a("img",{attrs:{src:r("1945")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterAge,expression:"filterAge"}],attrs:{type:"number",min:"0"},domProps:{value:t.filterAge},on:{input:function(e){e.target.composing||(t.filterAge=e.target.value)}}})]),a("th",[a("v-date-picker",{attrs:{color:"blue",value:t.filterDate,mode:"range"},model:{value:t.filterDate,callback:function(e){t.filterDate=e},expression:"filterDate"}}),a("button",{on:{click:function(e){t.filterDate.start=null,t.filterDate.end=null}}},[t._v("Clear")])],1),a("th",[a("img",{attrs:{src:r("1945")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterId,expression:"filterId"}],attrs:{type:"number",min:"0"},domProps:{value:t.filterId},on:{input:function(e){e.target.composing||(t.filterId=e.target.value)}}})])])]),t.pageRawData.length>=1?a("tbody",t._l(t.pageRawData,(function(e){return a("tr",{key:e.__EMPTY},[a("td",[t._v(t._s(e["First Name"]))]),a("td",[t._v(t._s(e["Last Name"]))]),a("td",[t._v(t._s(e["Gender"]))]),a("td",[a("img",{attrs:{src:r("1771")("./"+t.getFlag(e["Country"]))}})]),a("td",[t._v(t._s(e["Age"]))]),a("td",[t._v(t._s(e["Date"]))]),a("td",[a("a",{attrs:{href:"https://www.commune-rosieres10.fr/Recherche?id_article="+e["Id"]}},[t._v(t._s(e["Id"]))])])])})),0):a("tbody",[a("tr",[a("td",[t._v(" Aucun élément ne correspond à votre recherche. "),a("button",{on:{click:t.clearFilters}},[t._v("Vider les filtres")])])])])]):a("table",[t._m(0)]),a("section",{attrs:{id:"pagination-bottom"}},[t.rawData.length>0?a("pagination",{attrs:{page:t.page,pages:t.numberOfPages},on:{change:t.paginationChange}}):t._e()],1)])},g=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("td",[t._v("Importez des données pour commencer à travailler.")])])}],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn-file"},[a("label",[a("img",{attrs:{src:r("41b2")}}),t._v(" Importer données "),a("input",{attrs:{type:"file"},on:{change:t.uploadFile}})])])},f=[],h=r("1146"),m=r.n(h),v={name:"input-xls",methods:{uploadFile(t){var e=t.target.files,r=e[0],a=new FileReader;const s=this;a.onload=function(t){var e=new Uint8Array(t.target.result),r=m.a.read(e,{type:"array"});let a=r.SheetNames[0],i=r.Sheets[a];s.$emit("change",m.a.utils.sheet_to_json(i))},a.readAsArrayBuffer(r)}}},b=v,y=(r("078d"),Object(n["a"])(b,d,f,!1,null,null,null)),_=y.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},[a("div",{staticClass:"pagination-arrow",on:{click:t.toFirst}},[a("img",{staticClass:"arrow-pagination",attrs:{src:r("cf78"),alt:"arrow-left"}})]),a("div",{staticClass:"pagination-link pagination-previous",class:{disabled:t.isDisabled("previous")},on:{click:t.previousPage}},[t._v(t._s(t.previous))]),a("div",{staticClass:"pagination-selection"},t._l(t.pagesToDisplay,(function(e){return a("div",{key:e,staticClass:"pagination-page-link",class:{selected:t.isSelected(e)},on:{click:function(r){return t.selectPage(e)}}},[t._v(t._s(e))])})),0),a("div",{staticClass:"pagination-link pagination-next",class:{disabled:t.isDisabled("next")},on:{click:t.nextPage}},[t._v(t._s(t.next))]),a("div",{staticClass:"pagination-arrow",on:{click:t.toLast}},[a("img",{staticClass:"arrow-pagination",attrs:{src:r("3407"),alt:"arrow-right"}})])])},P=[],C={name:"Pagination",props:{page:{type:Number,default:1},pages:{type:Number,default:10},display:{type:Number,default:5},previous:{type:String,default:"Previous"},next:{type:String,default:"Next"}},data(){return{localPage:null}},computed:{pagesToDisplay(){const t=[];if(1==this.page)for(let e=this.page;e<this.page+this.display;e++)t.push(e);else if(2==this.page){t.push(1);for(let e=this.page;e<this.page+this.display-1;e++)t.push(e)}else if(this.page==this.pages-1){for(let e=this.page-(this.display-2);e<=this.page;e++)t.push(e);t.push(this.pages)}else if(this.page==this.pages)for(let e=this.page-(this.display-1);e<=this.page;e++)t.push(e);else for(let e=this.page-(this.display-Math.ceil(this.display/2));e<=this.page+Math.floor(this.display/2);e++)t.push(e);return t}},watch:{page(t){this.localPage=t}},methods:{previousPage(){this.page>1&&this.$emit("change",this.page-1)},nextPage(){this.page<this.pages&&this.$emit("change",this.page+1)},selectPage(t){this.$emit("change",t)},isSelected(t){return t==this.page},toFirst(){this.$emit("change",1)},toLast(){this.$emit("change",this.pages)},isDisabled(t){return"previous"==t&&1==this.page||"next"==t&&this.page==this.pages}}},D=C,N=(r("5eaf"),Object(n["a"])(D,w,P,!1,null,null,null)),O=N.exports,x=r("4a7a"),k=r.n(x),L=r("86e3"),S=r.n(L),F=r("404b"),j=r.n(F),G={name:"Home",components:{"input-xls":_,pagination:O,"v-select":k.a,"v-calendar":S.a,"v-date-picker":j.a},data(){return{rawData:[],elementsPerPageOptions:[10,25,50],elementsPerPage:null,page:1,genderOptions:[],countryOptions:[],filterFirstName:null,filterLastName:null,filterGender:null,filterCountry:null,filterAge:null,filterDate:{start:null,end:null},filterId:null,sort:{firstName:!1,lastName:!1,gender:!1,country:!1,age:!1,date:!1,id:!1},flags:{france:"fr.svg","united states":"us.svg","great britain":"uk.svg"}}},computed:{filtredRawData(){let t=this.rawData;if(this.filterFirstName&&(t=t.filter(t=>t["First Name"].toLowerCase().includes(this.filterFirstName.toLowerCase()))),this.filterLastName&&(t=t.filter(t=>t["Last Name"].toLowerCase().includes(this.filterLastName.toLowerCase()))),this.filterGender&&(t=t.filter(t=>t["Gender"].toLowerCase()==this.filterGender.toLowerCase())),this.filterCountry&&(t=t.filter(t=>t["Country"].toLowerCase()==this.filterCountry.toLowerCase())),this.filterAge&&(t=t.filter(t=>t["Age"]==this.filterAge)),this.filterDate.start&&this.filterDate.end){const e=[];t.forEach(t=>{const r=t["Date"].split("/"),a=Date.parse(new Date(r[2],r[1],r[0]));a>=Date.parse(this.filterDate.start)&&a<=Date.parse(this.filterDate.end)&&e.push(t)}),t=e}return this.filterId&&(t=t.filter(t=>t["Id"].toString().includes(this.filterId))),this.sort.firstName?t.sort((t,e)=>t["First Name"]>e["First Name"]?1:-1):this.sort.lastName?t.sort((t,e)=>t["Last Name"]>e["Last Name"]?1:-1):this.sort.gender?t.sort((t,e)=>t["Gender"]>e["Gender"]?1:-1):this.sort.country?t.sort((t,e)=>t["Country"]>e["Country"]?1:-1):this.sort.age?t.sort((t,e)=>t["Age"]>e["Age"]?1:-1):this.sort.date?t.sort((t,e)=>t["Date"].split("").reverse().join("")>e["Date"].split("").reverse().join("")?1:-1):this.sort.id?t.sort((t,e)=>t["Id"]>e["Id"]?1:-1):t.sort((t,e)=>t["__EMPTY"]>e["__EMPTY"]?1:-1),t},pageRawData(){const t=this.page*this.elementsPerPage-this.elementsPerPage,e=this.page*this.elementsPerPage;return this.filtredRawData.slice(t,e)},numberOfPages(){return this.filtredRawData.length/this.elementsPerPage}},mounted(){this.elementsPerPage=this.elementsPerPageOptions[0],localStorage.rawData&&(this.rawData=JSON.parse(localStorage.rawData)),this.getGenderOptions(),this.getCountryOptions()},methods:{sortBy(t){for(let[e,r]of Object.entries(this.sort))e==t?this.sort[e]?this.sort[e]=!1:this.sort[e]=!0:this.sort[e]=!1},dataChange(t){this.rawData=t,localStorage.rawData=JSON.stringify(this.rawData),this.getGenderOptions(),this.getCountryOptions()},elementsPerPageChange(t){this.elementsPerPage=t,this.page=1},paginationChange(t){this.page=t},filterGenderChange(t){this.filterGender=t},filterCountryChange(t){this.filterCountry=t},filterDateChange(t){this.filterDate.start=t.start,this.filterDate.end=t.end},getGenderOptions(){let t=[];this.rawData.forEach(e=>{const r=t.filter(t=>t==e["Gender"]);0==r.length&&t.push(e["Gender"])}),this.genderOptions=t},getCountryOptions(){let t=[];this.rawData.forEach(e=>{const r=t.filter(t=>t==e["Country"]);0==r.length&&t.push(e["Country"])}),this.countryOptions=t},clearFilters(){this.filterFirstName=null,this.filterLastName=null,this.filterGender=null,this.filterCountry=null,this.filterAge=null,this.filterDate={start:null,end:null},this.filterId=null},isSorted(t){for(let[e,r]of Object.entries(this.sort))if(e==t&&1==r)return!0;return!1},getFlag(t){for(let[e,r]of Object.entries(this.flags))if(e==t.toLowerCase())return r}}},A=G,I=(r("21bb"),Object(n["a"])(A,p,g,!1,null,null,null)),E=I.exports;a["default"].use(c["a"]);const $=[{path:"/",name:"Home",component:E}],R=new c["a"]({mode:"history",base:"/",routes:$});var M=R;a["default"].config.productionTip=!1,new a["default"]({router:M,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var a=r("9c0c"),s=r.n(a);s.a},"5eaf":function(t,e,r){"use strict";var a=r("2aa4"),s=r.n(a);s.a},"6ed2":function(t,e,r){t.exports=r.p+"img/fr.00d3fb2f.svg"},"700e":function(t,e,r){t.exports=r.p+"img/us.8b777720.svg"},"748e":function(t,e,r){t.exports=r.p+"img/header-bannier.6de6f1ae.jpg"},"8da5":function(t,e,r){t.exports=r.p+"img/uk.f2bd15b5.svg"},"9c0c":function(t,e,r){},cf78:function(t,e,r){t.exports=r.p+"img/angle-double-left-solid.e33117eb.svg"}});
//# sourceMappingURL=app.ce423cda.js.map